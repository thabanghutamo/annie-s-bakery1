<!-- Product Grid -->
<div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6">
  {% for p in products %}
  <div class="bg-white rounded-lg shadow-md overflow-hidden product-card" data-category="{{ p.category }}">
    <img class="w-full h-48 object-cover" 
         src="{{ p.image or url_for('static', filename='uploads/placeholder.jpg') }}" 
         alt="{{ p.title }}">
    <div class="p-4">
      <h3 class="font-bold text-lg">{{ p.title }}</h3>
      <p class="text-sm text-gray-600 mt-1">{{ p.short_description or p.description }}</p>
      <div class="mt-3 flex justify-between items-center">
        <div class="font-semibold text-lg">R{{ "%.2f"|format(p.price) }}</div>
        <button onclick='cart.add({{ p|tojson|safe }})' 
                class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors">
          Add to Cart
        </button>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<!-- Empty State -->
<div id="no-products" class="hidden text-center py-12">
  <h3 class="text-lg font-medium text-gray-900">No products found</h3>
  <p class="mt-2 text-gray-500">
    {% if category %}
    No products available in this category
    {% else %}
    No products match your criteria
    {% endif %}
  </p>
</div>